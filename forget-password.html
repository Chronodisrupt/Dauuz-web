<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Reset Password</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="background:#0f0f0f;color:#fff;font-family:Arial;display:flex;align-items:center;justify-content:center;height:100vh">

  <div style="background:#161616;padding:24px;border-radius:12px;width:100%;max-width:360px">
    <h2>Reset Password</h2>
    <input id="password" type="password" placeholder="New password"
      style="width:100%;padding:12px;margin:12px 0;border-radius:8px;border:none">
    <button id="update"
      style="width:100%;padding:12px;border:none;border-radius:8px;background:#d4a254;font-weight:bold">
      Update Password
    </button>
    <p id="msg" style="margin-top:10px"></p>
  </div>

  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script>
    document.addEventListener("DOMContentLoaded", async () => {
    
      console.log("DASHBOARD JS LOADED");
    
      const supabaseUrl = "https://pdvjaxccdsziyvtznamb.supabase.co";
      const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBkdmpheGNjZHN6aXl2dHpuYW1iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc0MzUxNTEsImV4cCI6MjA4MzAxMTE1MX0.Ye8kHuBUVMZLgt6prnRfe9qSdk3KAOM1Fo6ABjR7b_E";
      const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

        document.getElementById("update").onclick = async () => {
          const password = document.getElementById("password").value;

          const { error } = await supabase.auth.updateUser({ password });

          document.getElementById("msg").textContent =
            error ? error.message : "Password updated. You can now log in.";
        };

    });
  </script>

</body>
</html>
